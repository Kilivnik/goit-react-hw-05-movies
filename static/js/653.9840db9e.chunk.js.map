{"version":3,"file":"static/js/653.9840db9e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","components/services/API.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__mp42q\",\"title\":\"Movies_title__EqSqF\",\"total\":\"Movies_total__9D3d4\",\"list\":\"Movies_list__JEO-P\",\"list_item\":\"Movies_list_item__4Iyn+\",\"img\":\"Movies_img__CI9Z3\",\"link\":\"Movies_link__0oDWE\",\"nav_btn\":\"Movies_nav_btn__Y62U2\"};","import { fetchSearchMovie } from '../services/API';\nimport { useState, useEffect } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport styles from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [search, setSearch] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [totalResults, setTotalResults] = useState(0);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchUrl = searchParams.get('search');\n  const pageUrl = searchParams.get('page');\n\n  const searchMovie = e => {\n    e.preventDefault();\n    if (!search) {\n      return;\n    }\n    setSearchParams({ search: search, page: page });\n    setLoading(true);\n    setError(false);\n    setMovies([]);\n    setPage(1);\n    setTotalPages(1);\n    setTotalResults(0);\n    fetchSearchMovie(search, page)\n      .then(data => {\n        setMovies(data.results);\n        setTotalPages(data.total_pages);\n        setTotalResults(data.total_results);\n        setLoading(false);\n      })\n      .catch(error => {\n        setError(true);\n        setLoading(false);\n      });\n  };\n  const nextPage = () => {\n    if (page < totalPages) {\n      setPage(page + 1);\n      setSearchParams({ search: search, page: page + 1 });\n      fetchSearchMovie(search, page + 1)\n        .then(data => {\n          setMovies(movies.concat(data.results));\n        })\n        .catch(error => {\n          setError(true);\n        });\n    }\n  };\n  const previousPage = () => {\n    if (page > 1) {\n      setPage(page - 1);\n      setSearchParams({ search: search, page: page - 1 });\n      fetchSearchMovie(search, page - 1)\n        .then(data => {\n          setMovies(data.results);\n        })\n        .catch(error => {\n          setError(true);\n        });\n    }\n  };\n\n  useEffect(() => {\n    if (searchUrl && pageUrl) {\n      fetchSearchMovie(searchUrl, pageUrl)\n        .then(data => {\n          setMovies(data.results);\n          setTotalPages(data.total_pages);\n          setTotalResults(data.total_results);\n          setLoading(false);\n        })\n        .catch(error => {\n          setError(true);\n          setLoading(false);\n        });\n    } else {\n      setSearch('');\n      setMovies([]);\n      setTotalResults(0);\n      setTotalPages(1);\n    }\n  }, [searchUrl, pageUrl]);\n  return (\n    <>\n      <form className={styles.form} onSubmit={searchMovie}>\n        <input\n          type=\"text\"\n          value={search}\n          onChange={e => setSearch(e.target.value)}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {loading && <div>Loading...</div>}\n      {error && <div>Error</div>}\n      {movies && (\n        <>\n          <h1 className={styles.title}>Results</h1>\n          <p className={styles.total}>{totalResults} results found</p>\n          <ul className={styles.list}>\n            {movies &&\n              movies.map(movie => (\n                <li className={styles.list_item} key={movie.id}>\n                  {movie.poster_path && (\n                    <img\n                      className={styles.img}\n                      src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                      alt={movie.title}\n                    />\n                  )}\n\n                  <Link className={styles.link} to={`/movies/${movie.id}`}>\n                    {movie.title}\n                  </Link>\n                </li>\n              ))}\n          </ul>\n          <button\n            className={styles.nav_btn}\n            onClick={previousPage}\n            disabled={page === 1}\n          >\n            Previous\n          </button>\n          <button\n            className={styles.nav_btn}\n            onClick={nextPage}\n            disabled={page === totalPages}\n          >\n            Next\n          </button>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '4c250d742d3fa1acbadc30066c33a3e2';\n\nexport async function fetchTrendingMovies() {\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return response.data.results;\n}\n\nexport async function fetchSearchMovie(search, page) {\n  const response = await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${search}&page=${page}`\n  );\n  return response.data;\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const response = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\n  return response.data;\n}\n\nexport async function fetchMovieCredits(movieId) {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  return response.data;\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const response = await axios.get(\n    `/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  return response.data;\n}\n"],"names":["_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","search","setSearch","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","_useState9","_useState10","page","setPage","_useState11","_useState12","totalPages","setTotalPages","_useState13","_useState14","totalResults","setTotalResults","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","searchUrl","get","pageUrl","useEffect","fetchSearchMovie","then","data","results","total_pages","total_results","catch","_jsxs","_Fragment","children","className","styles","onSubmit","e","preventDefault","_jsx","type","value","onChange","target","map","movie","poster_path","src","concat","alt","title","Link","to","id","onClick","disabled","axios","API_KEY","fetchTrendingMovies","_fetchTrendingMovies","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","sent","abrupt","stop","_x","_x2","_fetchSearchMovie","_callee2","_context2","fetchMovieDetails","_x3","_fetchMovieDetails","_callee3","movieId","_context3","fetchMovieCredits","_x4","_fetchMovieCredits","_callee4","_context4","fetchMovieReviews","_x5","_fetchMovieReviews","_callee5","_context5"],"sourceRoot":""}