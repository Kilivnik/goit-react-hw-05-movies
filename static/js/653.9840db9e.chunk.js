"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{760:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r=n(439),a=n(157),c=n(791),s=n(87),u="Movies_form__mp42q",i="Movies_title__EqSqF",o="Movies_total__9D3d4",p="Movies_list__JEO-P",l="Movies_list_item__4Iyn+",f="Movies_img__CI9Z3",h="Movies_link__0oDWE",d="Movies_nav_btn__Y62U2",_=n(184),m=function(){var t=(0,c.useState)([]),e=(0,r.Z)(t,2),n=e[0],m=e[1],v=(0,c.useState)(""),x=(0,r.Z)(v,2),g=x[0],y=x[1],Z=(0,c.useState)(!1),b=(0,r.Z)(Z,2),k=b[0],w=b[1],j=(0,c.useState)(!1),N=(0,r.Z)(j,2),S=N[0],M=N[1],C=(0,c.useState)(1),A=(0,r.Z)(C,2),E=A[0],q=A[1],D=(0,c.useState)(1),F=(0,r.Z)(D,2),U=F[0],I=F[1],L=(0,c.useState)(0),P=(0,r.Z)(L,2),R=P[0],Y=P[1],H=(0,s.lr)(),J=(0,r.Z)(H,2),O=J[0],W=J[1],z=O.get("search"),B=O.get("page");return(0,c.useEffect)((function(){z&&B?(0,a.Ai)(z,B).then((function(t){m(t.results),I(t.total_pages),Y(t.total_results),w(!1)})).catch((function(t){M(!0),w(!1)})):(y(""),m([]),Y(0),I(1))}),[z,B]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("form",{className:u,onSubmit:function(t){t.preventDefault(),g&&(W({search:g,page:E}),w(!0),M(!1),m([]),q(1),I(1),Y(0),(0,a.Ai)(g,E).then((function(t){m(t.results),I(t.total_pages),Y(t.total_results),w(!1)})).catch((function(t){M(!0),w(!1)})))},children:[(0,_.jsx)("input",{type:"text",value:g,onChange:function(t){return y(t.target.value)}}),(0,_.jsx)("button",{type:"submit",children:"Search"})]}),k&&(0,_.jsx)("div",{children:"Loading..."}),S&&(0,_.jsx)("div",{children:"Error"}),n&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h1",{className:i,children:"Results"}),(0,_.jsxs)("p",{className:o,children:[R," results found"]}),(0,_.jsx)("ul",{className:p,children:n&&n.map((function(t){return(0,_.jsxs)("li",{className:l,children:[t.poster_path&&(0,_.jsx)("img",{className:f,src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title}),(0,_.jsx)(s.rU,{className:h,to:"/movies/".concat(t.id),children:t.title})]},t.id)}))}),(0,_.jsx)("button",{className:d,onClick:function(){E>1&&(q(E-1),W({search:g,page:E-1}),(0,a.Ai)(g,E-1).then((function(t){m(t.results)})).catch((function(t){M(!0)})))},disabled:1===E,children:"Previous"}),(0,_.jsx)("button",{className:d,onClick:function(){E<U&&(q(E+1),W({search:g,page:E+1}),(0,a.Ai)(g,E+1).then((function(t){m(n.concat(t.results))})).catch((function(t){M(!0)})))},disabled:E===U,children:"Next"})]})]})}},157:function(t,e,n){n.d(e,{Ai:function(){return p},Hx:function(){return m},Y5:function(){return f},wr:function(){return i},xc:function(){return d}});var r=n(861),a=n(757),c=n.n(a),s=n(243);s.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u="4c250d742d3fa1acbadc30066c33a3e2";function i(){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("/trending/movie/day?api_key=".concat(u));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(c().mark((function t(e,n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("/search/movie?api_key=".concat(u,"&query=").concat(e,"&page=").concat(n));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("/movie/".concat(e,"?api_key=").concat(u));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("/movie/".concat(e,"/credits?api_key=").concat(u));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Z.get("/movie/".concat(e,"/reviews?api_key=").concat(u));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=653.9840db9e.chunk.js.map