"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{760:function(t,e,n){n.r(e),n.d(e,{default:function(){return o}});var a=n(439),r=n(157),s=n(791),c=n(87),u={},i=n(184),o=function(){var t=(0,s.useState)([]),e=(0,a.Z)(t,2),n=e[0],o=e[1],l=(0,s.useState)(""),h=(0,a.Z)(l,2),p=h[0],f=h[1],d=(0,s.useState)(!1),m=(0,a.Z)(d,2),g=m[0],x=m[1],v=(0,s.useState)(!1),b=(0,a.Z)(v,2),j=b[0],Z=b[1],_=(0,s.useState)(1),k=(0,a.Z)(_,2),w=k[0],N=k[1],S=(0,s.useState)(1),y=(0,a.Z)(S,2),A=y[0],C=y[1],E=(0,s.useState)(0),F=(0,a.Z)(E,2),L=F[0],R=F[1],U=(0,c.lr)(),q=(0,a.Z)(U,2),D=q[0],P=q[1],z=D.get("search"),B=D.get("page");return(0,s.useEffect)((function(){z&&B?(0,r.Ai)(z,B).then((function(t){o(t.results),C(t.total_pages),R(t.total_results),x(!1)})).catch((function(t){Z(!0),x(!1)})):(f(""),o([]),R(0),C(1))}),[z,B]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",{className:u.form,onSubmit:function(t){t.preventDefault(),p&&(P({search:p,page:w}),x(!0),Z(!1),o([]),N(1),C(1),R(0),(0,r.Ai)(p,w).then((function(t){o(t.results),C(t.total_pages),R(t.total_results),x(!1)})).catch((function(t){Z(!0),x(!1)})))},children:[(0,i.jsx)("input",{type:"text",value:p,onChange:function(t){return f(t.target.value)}}),(0,i.jsx)("button",{type:"submit",children:"Search"})]}),g&&(0,i.jsx)("div",{children:"Loading..."}),j&&(0,i.jsx)("div",{children:"Error"}),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{className:u.title,children:"Results"}),(0,i.jsxs)("p",{className:u.total,children:[L," results found"]}),(0,i.jsx)("ul",{className:u.list,children:n&&n.map((function(t){return(0,i.jsxs)("li",{className:u.list_item,children:[t.poster_path&&(0,i.jsx)("img",{className:u.img,src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title}),(0,i.jsx)(c.rU,{className:u.link,to:"/movies/".concat(t.id),children:t.title})]},t.id)}))}),(0,i.jsx)("button",{className:u.nav_btn,onClick:function(){w>1&&(N(w-1),P({search:p,page:w-1}),(0,r.Ai)(p,w-1).then((function(t){o(t.results)})).catch((function(t){Z(!0)})))},disabled:1===w,children:"Previous"}),(0,i.jsx)("button",{className:u.nav_btn,onClick:function(){w<A&&(N(w+1),P({search:p,page:w+1}),(0,r.Ai)(p,w+1).then((function(t){o(n.concat(t.results))})).catch((function(t){Z(!0)})))},disabled:w===A,children:"Next"})]})]})}},157:function(t,e,n){n.d(e,{Ai:function(){return l},wr:function(){return i}});var a=n(861),r=n(757),s=n.n(r),c=n(243);c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u="4c250d742d3fa1acbadc30066c33a3e2";function i(){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/trending/movie/day?".concat(u));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t,e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(s().mark((function t(e,n){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("/search/movie?".concat(u,"&query=").concat(e,"&page=").concat(n));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=653.c6234ed2.chunk.js.map